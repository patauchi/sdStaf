---
title: "Environmental Reduce"
author: "P. Joser Atauchi"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Environmental Reduce with buffer zone}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

Define "M" under different ways is matter to calibration models in ecological niche model, we used buffer zone as calibration zone, based on:

- Define M is hard due to species are inhabitants in diferents ecosystem.
- Buffer zone provide a good tools to define calibration area.

## Environmental Reduce

These function help you to reduce environmental. 

```{r}
library(sdStaf)
data(phytotoma)

```

Now, we need to load environmental dataset.

```{r}
library(dismo)
predictor <- stack(list.files(path=paste(system.file(package="dismo"),'/ex', sep=''), pattern='grd', full.names=TRUE ))

# Read names 
names(predictor)

plot(predictor$bio1)

```

Next function, reduce environmental data based on buffer zone and customer zone.

```{r}
buf.M <- stim.M(occs=phytotoma[,2:3], radio = 131, method = 'user')

# Define what variables we need to remove
 rd <- c('bio1','bio12','bio16')

reduce_cut <- reduce.env(env = predictor, mask= buf.M, var.rm = rd)

plot(reduce_cut@cropa$biome)

points(phytotoma[,2:3], pch=16,col='blue')

```

